---
layout: doc
title: Pre-Generate Lazy Loading Proxies
---
                <div id="CommonNavigationShadow">
                    
    
    <div class="CommonBreadCrumbArea"><div class="Common">
        <a href="../index.html">Documentation</a>
        »
        <a href="index.html">ProxyGenerators</a>
        »
        <a href="pre-generate-lazy-loading-proxies.html">Pre-Generate Lazy Loading Proxies</a>
    </div></div>


                </div>
		    
                        
            <div class="Common">
            
                
            
                
                <div id="CommonTitle">
                    
    
    <h1>ProxyGenerators</h1>


                </div>
                <div style="clear: both;"></div>
			    <div id="CommonSidebarLeft">
			        
    
	<div class="CommonSidebar">
	    
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Page Details</h4>
	                    <div class="CommonContentBoxContent">
	            <div class="CustomWikiPageDetailsArea">
<div class="CustomWikiPageDetailsTitle">First published by:</div>
<div class="CustomWikiPageDetailsAvatar"><img src="../../utility/anonymous.gif" alt="" style="border-width:0px;max-height:50px;max-width:50px;"></div>
<div class="CustomWikiPageDetailsContent">
<a href="../../members/wcpierce/default.aspx.html">Bill Pierce</a><br> on 09-22-2008</div>
</div>
<div class="CustomWikiPageDetailsArea">
<div class="CustomWikiPageDetailsTitle">Last revision by:</div>
<div class="CustomWikiPageDetailsAvatar"><img src="../../utility/anonymous.gif" alt="" style="border-width:0px;max-height:50px;max-width:50px;"></div>
<div class="CustomWikiPageDetailsContent">
<a href="../../members/jwdavidson/default.aspx.html">John Davidson</a><br> on 09-07-2011</div>
</div>
				        </div>
<div>
			This page is converted from the old nhforge.org Wiki.
		</div>
				        
			        </div>
	            
	    
	    
	    
    </div>
    

			    </div>
                
			    <div id="CommonContent"><div id="CommonContentInner">
    



<div class="CommonContentBox">
    <div class="CommonContentBoxContent">
        <div style="float: right">
            
        </div>
        
        

        
            <div class="CommonGroupedContentArea">                

                

                <h2 class="">
                        <span><a href="pre-generate-lazy-loading-proxies.html">Pre-Generate Lazy Loading Proxies</a></span>
                        
                    </h2>
                                
                
                <div>
<p> </p>
<ol>
<li>Download the latest binaries for <a href="http://sourceforge.net/project/showfiles.php?group_id=216446&amp;package_id=292389">NHibernate ProxyGenerators</a>
</li>
<li>Extract the binaries to your "lib" directory relative to your source files<br><img src="pre-generate-lazy-loading-proxies-Extract.jpg" alt="">
</li>
<li>Open a command prompt and navigate the to "bin" directory in your web project.</li>
<li>Enter the following command:<br>..\..\..\lib\bin\net-2.0\NHPG.exe /o:Example.Domain.Proxies.dll Example.Domain.dll<br><br>NHPG.exe:  The console application that generates the proxies.  Included in the binary distribution from step 1<br>/o: The path to the assembly that will be generated by NHPG<br>Example.Domain.dll: The assembly that contains your NHibernate Mappings (hbm.xml files)</li>
<li>Add 'proxyfactory.factory_class' to your NHibernate configuration file:<br><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">hibernate-configuration</span><span style="color:#ff00ff;"> </span><span style="color:#ff0000;">xmlns</span><span style="color:#0000ff;">="urn:nhibernate-configuration-2.2"&gt;<br>  </span><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">session-factory</span><span style="color:#0000ff;">&gt;<br>    </span><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span><span style="color:#ff00ff;"> </span><span style="color:#ff0000;">name</span><span style="color:#0000ff;">="dialect"&gt;</span><span>NHibernate.Dialect.MsSql2000Dialect</span><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">property</span><span style="color:#0000ff;">&gt;<br>    </span><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span><span style="color:#ff00ff;"> </span><span style="color:#ff0000;">name</span><span style="color:#0000ff;">="connection.provider"&gt;</span><span>NHibernate.Connection.DriverConnectionProvider</span><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">property</span><span style="color:#0000ff;">&gt;<br>    </span><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span><span style="color:#ff00ff;"> </span><span style="color:#ff0000;">name</span><span style="color:#0000ff;">="connection.driver_class"&gt;</span><span>NHibernate.Driver.SqlClientDriver</span><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">property</span><span style="color:#0000ff;">&gt;<br>    </span><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span><span style="color:#ff00ff;"> </span><span style="color:#ff0000;">name</span><span style="color:#0000ff;">="connection.connection_string"&gt;</span><span>Server=(local);Database=Development;Trusted_Connection=True;</span><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">property</span><span style="color:#0000ff;">&gt;<br>    </span><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">mapping</span><span style="color:#ff00ff;"> </span><span style="color:#ff0000;">assembly</span><span style="color:#0000ff;">="Example.Domain"</span><span style="color:#ff00ff;"> </span><span style="color:#0000ff;">/&gt;<br><br>    </span><strong><i><span style="text-decoration:underline;"><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span><span style="color:#ff00ff;"> </span><span style="color:#ff0000;">name</span><span style="color:#0000ff;">="proxyfactory.factory_class"&gt;</span><span>CastleStaticProxyFactoryFactory, Example.Domain.Proxies</span><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">property</span></span></i></strong><span style="color:#0000ff;"><strong><i><span style="text-decoration:underline;">&gt;</span></i></strong><br>  </span><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">session-factory</span><span style="color:#0000ff;">&gt;<br>&lt;/</span><span style="color:#800000;">hibernate-configuration</span><span style="color:#0000ff;">&gt;<br><i>Replace Example.Domain.Proxies with the name of the assembly used for argument '/o' in Step 4.</i></span>
</li>
<li>You're done!  Pre-generated lazy loading proxies can be used with NHibernate to <a class="ExistingPageLink" title="Click to view the page titled: Run in Medium Trust" href="run-in-medium-trust.aspx.html">Run in Medium Trust</a> </li>
</ol>
<p><strong>Sample Commands</strong></p>
<ul>
<li>
<strong>Generate proxies for ActiveRecord<br></strong><span>NHPG.exe <i>/g<span style="text-decoration:underline;">:activerecord</span></i> /o:Example.ActiceRecordDomain.Proxies.dll Example.ActiveRecordDomain.dll</span>
</li>
<li>
<span><strong>Generate proxies with multiple class mapping assemblies </strong></span><br><span>NHPG.exe /o:Example.Domain.Proxies.dll <i><span style="text-decoration:underline;">Example.Domain1.dll</span> <span style="text-decoration:underline;">Example.Domain2.dll</span></i></span>
</li>
<li>
<span><strong>Generate proxies with a custom Dialect </strong></span><br><span>NHPG.exe <i><span style="text-decoration:underline;">/d:</span></i></span><i><span style="text-decoration:underline;">NHibernate.Dialect.Oracle9Dialect</span></i> /o:Example.Domain.Proxies.dll Example.Domain.dll</li>
</ul>
</div>
            </div>
        
        
    </div>
</div>





</div></div>
			    <div style="clear: both;"></div>
			    
			    
            </div>

