---
layout: post
title: "HqlAddin on Hbms!"
date: 2010-09-28 02:37:00 +1300
comments: true
published: true
categories: ["blog", "archives"]
tags: ["HQL"]
alias: ["/blogs/nhibernate/archive/2010/09/27/hqladdin-on-hbms.aspx"]
---
<!-- more -->
{% include imported_disclaimer.html %}
<p>A month ago I released <a href="http://jfromaniello.blogspot.com/2010/08/hqladdin-vers-10045-alpha-2.html">HqlAddin Green Popotito</a>. After talking with my friend <a href="http://fabiomaulo.blgospot.com">Fabio Maulo</a>, he convinced me to add support for hbm files. Well, that’s it, the new release add supports for hbm.xml files and I’ve absolutely dropped the support for “hql” files (<span style="text-decoration: line-through">sorry but</span> this is not the standard way of writing named queries). So, “Green popotito” is the last version with support for hql files.</p>  <p>In this post I will talk about the features of the HqlAddin V 0.9 – Alpha 3.</p>  <h1>Syntax highlighting</h1>  <p>HqlAddin brings coloring to your queries:</p>  <p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_4A0EA425.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_thumb_5F00_5B7F04FD.png" width="479" height="248" /></a> </p>  <p>as you can see here:</p>  <ul>   <li>blue; for keywords </li>    <li>dark-red; for strings </li>    <li>blue-violet; for parameters </li> </ul>  <p>Even inside &lt;![CDATA[ ]]&gt; tags:</p>  <p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_3293EFF4.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_thumb_5F00_31BB8A0A.png" width="477" height="233" /></a> </p>  <h1>Error detection</h1>  <p>Using the same parser inside NHibernate 3, HqlAddin can detects syntactical problems:</p>  <p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_49924B63.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_thumb_5F00_7030B1E3.png" width="646" height="319" /></a> </p>  <p>You can see the problem in three places;</p>  <ul>   <li>The red wave underline </li>    <li>The tooltip text </li>    <li>and in the error list, you can see the exception of ANTLR, and navigate to the line with double click </li> </ul>  <p>This is another example of exception:</p>  <p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_495275D6.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_thumb_5F00_76D39599.png" width="584" height="176" /></a> </p>  <h1>Intellisense</h1>  <p>In order to get intellisense you need to do a little trick, explained in this <a href="http://hqladdin.codeplex.com/wikipage?title=HowToAdvanceIntellisense&amp;referringTitle=Documentation">link</a>. If you don’t do this trick, the other two features explained above <span style="text-decoration: underline">will work</span>. I am not so happy with this code, specially with having to touch your code. I will enhance this on futures version, and maybe I will work to add another mechanism. But for now, I only have this. You can add this piece of code on any, any project, even in your data tests project.</p>  <p>A little explanation of the process; in order to get intellisense working, HqlAddin need access to your nhibernate configuration, so you have to export (with System.ComponentModel) an instance of NHibernate.Cfg.Configuration. It doesn’t care what version of NHibernate you are using. HqlAddin will search your configuration when:</p>  <ul>   <li>You open a solution. </li>    <li>You build a solution. </li> </ul>  <p>The intellisense working:</p>  <p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_6D2B2763.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_thumb_5F00_659FB7F6.png" width="576" height="269" /></a> </p>  <p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_2E95B3F0.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_thumb_5F00_7693C00C.png" width="480" height="312" /></a> </p>  <p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_19940BB0.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_thumb_5F00_3006AA37.png" width="523" height="283" /></a> </p>  <p>&#160;</p>  <h1>This combo comes with french fries</h1>  <p>Because you are given me an instance of NHibernate’s Configuration, I know when you fail. So, I call this feature “strongly typed hbm’s”. Because, configuring NHibernate actually means “to compile mappings”</p>  <p>This is the snapshot:</p>  <p><a href="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_3BBBF169.png"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="/cfs-file.ashx/__key/CommunityServer.Blogs.Components.WeblogFiles/nhibernate/image_5F00_thumb_5F00_69E5C756.png" width="603" height="409" /></a> </p>  <p>This is not a desired feature just a <span style="text-decoration: underline">side effect</span> :) and its out of the scope of the addin.</p>  <p>That’s all, as always said, I am way interested in your opinion.</p>
