

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head><meta http-equiv="X-UA-Compatible" content="IE=7" /><meta name="robots" content="index,follow" />
<meta name="description" content="The official NHibernate community site. Download NHibernate. Read blogs. Contribute to the NHibernate Wiki. Find reference documentation." />
<meta name="keywords" content="NHibernate, NHibernate Contrib, community, Burrow, Downloads" />
<meta name="GENERATOR" content="CommunityServer 2008.5 SP1 (Build: 31106.3070)" />
<link rel="shortcut icon" type="image/ico" href="../../../favicon.ico" />
<link rel="alternate" type="application/rss+xml" title="Identity Field, Equality and Hash Code (RSS 2.0)" href="rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Patterns &amp; Practices (RSS 2.0)" href="../rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="gabriel.schenker&#39;s Announcements (RSS 2.0)" href="../../../members/gabriel.schenker/announcements/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="gabriel.schenker&#39;s Comments (RSS 2.0)" href="../../../members/gabriel.schenker/comments/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="gabriel.schenker&#39;s Activities (RSS 2.0)" href="../../../members/gabriel.schenker/activities/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="gabriel.schenker&#39;s Friends Activity (RSS 2.0)" href="../../../members/gabriel.schenker/activities/friendrss.aspx"  />

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <style type="text/css"> body { font-size: 84%; } </style>
        <link rel="stylesheet" href="../../../themes/hawaii/style/Common.css" type="text/css" media="screen,print" />
        <link rel="stylesheet" href="../../../themes/hawaii/style/common_print.css" type="text/css" media="print" />
        
    
    <link rel="stylesheet" href="../../../Themes/hawaii/style/wiki.css" type="text/css" media="screen,print" />
	

        <link rel="stylesheet" href="../../../themes/hawaii/style/DynamicStyle.aspx.css" type="text/css" media="screen" />
        <!--[if lte IE 6]>
            <link rel="stylesheet" href="/themes/hawaii/style/ie6.css" type="text/css" media="screen" />
        <![endif]-->
    <meta name="google-site-verification" content="u9qihpHbzSFdf2ypCUvCQrj9IJkANGzorC8zMk0859M" />
<title>
	Comments: Identity Field, Equality and Hash Code - NHibernate Forge
</title></head>
	<body>
		<form name="aspnetForm" method="post" action="comments.aspx%3FPageIndex=2.html" id="aspnetForm">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKLTcyMTQ0MzUxNmQYAQUeX19Db250cm9sc1JlcXVpcmVQb3N0QmFja0tleV9fFgEFMGN0bDAwJGN0bDAwJHNyJHNyJGN0bDAwJGN0bDAwJFRpdGxlQmFyU2VhcmNoVGV4dAbLC+sYQjys4j2ezXalX8SFgv2N" />
</div>


<script src="../../../WebResource.axd%3Fd=0gbcOAOlbWsHyCtP1tLKZQbpxrEkhg31E8L04T1x-hMLrsMonvmUNQvxBohSywWHueFgWT841lW9e5k7Gp2DbPsOLeN3Sv3SB7czfVSlQGxYOHnJcLlKfh3v9vlcjJ9ggvps0fjahw73J3SVYQmGvS0rXng1&amp;t=634395149500000000" type="text/javascript"></script>
<script src="../../../WebResource.axd%3Fd=qXX_qxw7Y60qjc1NsxHnuIWUCy9JxjEUKLrY5KEQyuYhKzv3UmRPH805gTXU5edfSsLl7PHTIDuZbzGOp5UYEWeQ6anyqFa-m5TiNnZiD5MOrgiKWAZBgPyJ267gdCbk0_TpK2BaAhLvEgyM28dt9SYQ2UM1&amp;t=634395149500000000" type="text/javascript"></script>
<script src="../../../WebResource.axd%3Fd=c5kkseX-7hUDg441H_iVoy5ws7YKvwS4KliHEKHuRl5UdJkUU5Jbdf2sxzCcbfyn6sqe17DzqhSTfAyV8nyJKMHhScl2IzjSz37RVYryN9Omis3K0NCj_OJ4fHZH3n9_IPBlNLVyYL45kjJL_zhydrkKTi3FfxaImDeS_1JZIO7o9iFs0&amp;t=634395149500000000" type="text/javascript"></script>
						

			

		    
		        <div id="CommonHeader">
		            <div class="Common">
		                <div id="CommonHeaderTitleArea">
		                    <table cellpadding="0" cellspacing="0" border="0"><tr valign="middle">
		                        <td><div style="margin-right: 10px;"><img src="../../../cfs-file.ashx/__key/CommunityServer.Components.SiteFiles/logos/LogoNH.gif" alt="" style="border-width:0px;" /></div></td>
		                        <td>
		                            <div class="CommonHeaderTitle">NHibernate Forge</div>
		                            <div class="CommonHeaderTitleDescription">The official new home for the NHibernate for .NET community</div>
		                        </td>
		                    </tr></table>
		                </div>
		                <div id="CommonHeaderUserArea">
		                    <table cellpadding="0" cellspacing="0" border="0"><tr valign="top"><td>
                                <div id="CommonHeaderUserContent">
                                    <div id="CommonHeaderUserWelcome">
                                        
        <a href="http://nhforge.org/login.aspx?ReturnUrl=%2fwikis%2fpatternsandpractices%2fidentity-field-equality-and-hash-code%2fcomments.aspx%3fPageIndex%3d2">Sign in </a>
         | <a href="../../../user/CreateUser.aspx%3FReturnUrl=.html">Join</a>
        | <a href="http://dev.communityserver.com/r.ashx?K&amp;siteurl=wikis.wiki_Page_Comments">Help</a>
     


                                    </div>
                                </div>
                            </td></tr></table>
                        </div>
                    </div>
                </div>
                <div id="CommonNavigation">
                    <div class="Common"><div class="Inner">
                        <ul>
                                
                                <li><a href="../../../index.html">Home</a></li>
                            
                                
                                <li><a href="../../../blogs/nhibernate.html">Blog</a></li>
                            
                                <li><a class="Selected" href="../../index.html">Wikis</a></li>
                                
                            
                                
                                <li><a href="../../../groups/index.html">Groups</a></li>
                            
                                
                                <li><a href="../../../doc/nh/en/index.html">Reference</a></li>
                            
                                
                                <li><a href="http://nhibernate.jira.com">Issue tracker</a></li>
                            
                                
                                <li><a href="https://github.com/nhibernate/nhibernate-core">Source Code</a></li>
                            </ul>
                        <div style="clear: both;"></div>
                     </div></div>
                </div>
                
                        <div id="CommonNavigation2">
                            <div class="Common"><div class="Inner">
                                <ul>
                    
                        
                        <li><a href="../../general/default.aspx.html">General</a></li>
                    
                        
                        <li><a href="../../howtonh/default.aspx.html">How to</a></li>
                    
                        <li><a class="Selected" href="../default.aspx.html">Patterns&Practices</a></li>
                        
                    
                                </ul>
                            </div></div>
                        </div>
                    
                <div id="CommonNavigationShadow">
                    
    
    <div class="CommonBreadCrumbArea"><div class="Common">
        <a href="../../index.html">Wikis</a>
        &raquo;
        <a href="../default.aspx.html">Patterns &amp; Practices</a>
        &raquo;
        <a href="../identity-field-equality-and-hash-code.aspx.html">Identity Field, Equality and Hash Code</a>
        &raquo;
        <a href="comments.aspx.html">Comments</a>
    </div></div>


                </div>
		    
                        
            <div class="Common">
            
                
            
                <div id="CommonSearch">
                    
    
        
                <div class="CommonSearchArea">
                    <div class="CommonSearchRoundTop"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                    <div class="CommonSearchContent"><div class="CommonSearchContentInner">
                        <input name="ctl00$ctl00$sr$sr$ctl00$ctl00$TitleBarSearchText" type="text" maxlength="64" size="15" id="ctl00_ctl00_sr_sr_ctl00_ctl00_TitleBarSearchText" onclick="if(this.defaultValue==this.value) this.value='';" onblur="if(this.value=='') this.value=this.defaultValue;" onkeydown="return KeyDownHandlerctl00_ctl00_sr_sr_ctl00_ctl00_TitleBarSearchButton(event);" /><input type="submit" name="ctl00$ctl00$sr$sr$ctl00$ctl00$TitleBarSearchButton" value="Â " id="ctl00_ctl00_sr_sr_ctl00_ctl00_TitleBarSearchButton" class="CommonSearchButton" />
                    </div></div>
                    <div class="CommonSearchRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                </div>
            
    

                </div>
                <div id="CommonTitle">
                    
    
    <h1 class="CommonTitle">Comments: Identity Field, Equality and Hash Code</h1>


                </div>
                <div style="clear: both;"></div>
			    <div id="CommonSidebarRight">
			        
    
	<div class="CommonSidebar">
	    
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Shortcuts</h4>
	                    <div class="CommonContentBoxContent">
	            <ul class='CommonSidebarList'><li><a href="../default.aspx.html">Home</a></li><li><a href="rss.aspx">RSS feed for page</a></li></ul>
				        </div>
				        
			        </div>
	            
	    
	        
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Wiki Page Hierarchy</h4>
	                    <div class="CommonContentBoxContent">
	            <div><ul class="CommonHierarchicalList"><li><a href="../nhibernate-and-the-unit-of-work-pattern.aspx.html">NHibernate and the Unit of Work Pattern</a></li><li><a href="../identity-field-equality-and-hash-code.aspx.html" class="Selected">Identity Field, Equality and Hash Code</a></li></ul></div>
				        </div>
				        
			        </div>
	            
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Pages</h4>
	                    <div class="CommonContentBoxContent">
	            <div><ul class="CommonHierarchicalList"><li><a href="../nhibernate-and-the-unit-of-work-pattern.aspx.html">NHibernate and the Unit of Work Pattern</a></li><li><a href="../identity-field-equality-and-hash-code.aspx.html" class="Selected">Identity Field, Equality and Hash Code</a></li></ul></div>
				        </div>
				        
			        </div>
	            
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Tags</h4>
	                    <div class="CommonContentBoxContent">
	            <ul class="CommonSidebarTagCloud">
<li class="CommonTag2"><a href="../tags/Architecture/default.aspx.html" rel="tag">Architecture</a></li>
<li class="CommonTag6"><a href="../tags/Audit/default.aspx.html" rel="tag">Audit</a></li>
<li class="CommonTag6"><a href="../tags/Concurrency/default.aspx.html" rel="tag">Concurrency</a></li>
<li class="CommonTag6"><a href="../tags/Configuration/default.aspx.html" rel="tag">Configuration</a></li>
<li class="CommonTag6"><a href="../tags/convention+over+configuration/default.aspx.html" rel="tag">convention over configuration</a></li>
<li class="CommonTag6"><a href="../tags/Conversation/default.aspx.html" rel="tag">Conversation</a></li>
<li class="CommonTag6"><a href="../tags/entity+name/default.aspx.html" rel="tag">entity name</a></li>
<li class="CommonTag3"><a href="../tags/events/default.aspx.html" rel="tag">events</a></li>
<li class="CommonTag6"><a href="../tags/Filters/default.aspx.html" rel="tag">Filters</a></li>
<li class="CommonTag2"><a href="../tags/FluentNH/default.aspx.html" rel="tag">FluentNH</a></li>
<li class="CommonTag6"><a href="../tags/IIdentifierGenerator/default.aspx.html" rel="tag">IIdentifierGenerator</a></li>
<li class="CommonTag6"><a href="../tags/Interceptor/default.aspx.html" rel="tag">Interceptor</a></li>
<li class="CommonTag6"><a href="../tags/IoC+container/default.aspx.html" rel="tag">IoC container</a></li>
<li class="CommonTag2"><a href="../tags/IUserType/default.aspx.html" rel="tag">IUserType</a></li>
<li class="CommonTag3"><a href="../tags/lazy+loading/default.aspx.html" rel="tag">lazy loading</a></li>
<li class="CommonTag6"><a href="../tags/listener/default.aspx.html" rel="tag">listener</a></li>
<li class="CommonTag6"><a href="../tags/log/default.aspx.html" rel="tag">log</a></li>
<li class="CommonTag6"><a href="../tags/logging/default.aspx.html" rel="tag">logging</a></li>
<li class="CommonTag1"><a href="../tags/Mapping/default.aspx.html" rel="tag">Mapping</a></li>
<li class="CommonTag6"><a href="../tags/Mapping+by+code/default.aspx.html" rel="tag">Mapping by code</a></li>
<li class="CommonTag1"><a href="../tags/Nhibernate/default.aspx.html" rel="tag">Nhibernate</a></li>
<li class="CommonTag6"><a href="../tags/Nhibernate+Documentation/default.aspx.html" rel="tag">Nhibernate Documentation</a></li>
<li class="CommonTag3"><a href="../tags/property/default.aspx.html" rel="tag">property</a></li>
<li class="CommonTag2"><a href="../tags/query/default.aspx.html" rel="tag">query</a></li>
<li class="CommonTag1"><a href="../tags/Session/default.aspx.html" rel="tag">Session</a></li>
</ul>

				        </div>
				        <div class="CommonContentBoxFooter"><a href="../tags/default.aspx.html">View more</a></div>
			        </div>
	            
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Page Details</h4>
	                    <div class="CommonContentBoxContent">
	            <div class="CustomWikiPageDetailsArea"><div class="CustomWikiPageDetailsTitle">Published by:</div><div class="CustomWikiPageDetailsAvatar"><img src="../../../resized-image.ashx/__size/50x50/__key/CommunityServer.Components.Avatars/00.00.00.21.34/4TA9FMIYGIH8.jpg" alt="" style="border-width:0px;" /></div><div class="CustomWikiPageDetailsContent"><a href="../../../members/gabriel.schenker/default.aspx.html">gabriel.schenker</a><br/> on 09-23-2008</div></div><div class="WikiPageDetailsSummaryArea"><strong>6</strong> people found this article useful.</div>
				        </div>
				        
			        </div>
	            
	    
	    
	    
    </div>
    

			    </div>
                <div id="CommonSidebarLeft">
				    
				</div>
			    <div id="CommonContent"><div id="CommonContentInner">
    



   
   
   


<div class="CommonContentBox">
    <div class="CommonContentBoxContent">
        <div style="float: right">
            
        </div>
        
        <div class="CommonPaneTabSet">
            <div style="overflow: hidden;">
                <table border="0" cellpadding="0" cellspacing="0">
                <tbody>
                    <tr>
                        <td>
                            <div class="CommonPaneTab">
                                <a href="../identity-field-equality-and-hash-code.aspx.html"><img align="absmiddle" border="0" src="../../../Themes/hawaii/images/wiki/wiki-icon-article-tab.png" alt="" style="border-width:0px;" /></a>                            
                                <a href="../identity-field-equality-and-hash-code.aspx.html">Article</a>
                            </div>
                        </td>
                        
                                
                                                            
                        <td>
                            <div class="CommonPaneTabSelected">
                                <img align="absmiddle" border="0" src="../../../Themes/hawaii/images/wiki/wiki-icon-comment-tab.png" alt="" style="border-width:0px;" /> Comments (9)
                            </div>
                        </td>
                        <td>
                            <div class="CommonPaneTab">
                                <a href="history.aspx.html"><img align="absmiddle" border="0" src="../../../Themes/hawaii/images/wiki/wiki-icon-history-tab.png" alt="" style="border-width:0px;" /></a>
                                <a href="history.aspx.html">History</a> (1)
                            </div>
                        </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>

        <div class="CommonPane">
            <div class="CommonGroupedContentArea">

                <h2 class="CommonContentBoxHeaderSmall">
                        <span><a href="../identity-field-equality-and-hash-code.aspx.html">Identity Field, Equality and Hash Code</a></span>
                        
                    </h2>                            

                
                        Sort by: 
                        <b><a href="http://nhforge.org/wikis/patternsandpractices/identity-field-equality-and-hash-code/comments.aspx?PageIndex=1&amp;Sort=PublishedDate">Published Date</a></b> | 
                        <a href="http://nhforge.org/wikis/patternsandpractices/identity-field-equality-and-hash-code/comments.aspx?PageIndex=1&amp;Sort=MostRecent">Most Recent</a> | 
                        <a href="http://nhforge.org/wikis/patternsandpractices/identity-field-equality-and-hash-code/comments.aspx?PageIndex=1&amp;Sort=MostUseful">Most Useful</a>
                    
                 
                <div class="WikiCommentBubbleRoundTop" style="margin-top: 1em;"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                <div class="WikiCommentContent" style="padding-top: 4px;">
                    <div>
                        
                                <a href="http://nhforge.org/login.aspx?ReturnUrl=%2fwikis%2fpatternsandpractices%2fidentity-field-equality-and-hash-code%2fcomments.aspx%3fPageIndex%3d2"><img src="../../../Themes/hawaii/images/wiki/add-a-new-comment.gif" alt="" style="border-width:0px;" /></a>
                            
                    </div>
                    <div style="clear: both;"></div>
                </div>
                <div class="WikiCommentBubbleRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>

                <a href="http://nhforge.org/wikis/patternsandpractices/identity-field-equality-and-hash-code/comments.aspx?PageIndex=1">< Previous</a>&nbsp;<a href="http://nhforge.org/wikis/patternsandpractices/identity-field-equality-and-hash-code/comments.aspx?PageIndex=1">1</a> 2
                
                        <div class="WikiCommentArea">
                            <div class="WikiCommentBubble">
                                <div class="WikiCommentBubbleRoundTop"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                                <div class="WikiCommentContent">
                                    <div class="WikiCommentHeaderIcon"><a href="../../../members/SzymonPobiega/default.aspx.html">
                                            <img src="../../../utility/anonymous.gif" alt="" style="border-width:0px;max-height:32px;max-width:32px;" />
                                        </a></div>
                                    
                                    <div class="WikiCommentHeader">
                                        By: 
                                        <a href="../../../members/SzymonPobiega/default.aspx.html">SzymonPobiega</a>
                                        Posted on 
                                        07-21-2009 8:56
                                        
                                    </div>
                                    <div style="clear: both;"></div>
                                    
                                    <div><p>MSDN documentation states that &#39;The default implementation of Equals supports reference equality for reference types, and bitwise equality for value types&#39;, not that hashcode is taken into account.</p>
<p>NHibernate has built-in functionality of Identity Map, so it is warrantied that two persistent instances with same identity field will be be equal-by-reference so they will be pointing to the same address in managed heap. Furthermore, two not-yet-persisted objects or one persisted and one not will never be equals because they will point to different addresses on the heap.</p>
<p>Ergo, I see no point in implementing such a sophisticated mechanism when the default .NET and NHibernate behavior is enough for most cases.</p>
</div>

                                    <div style="float: right; font-size: 80%;">
                                        <a href="comments.aspx%3FPageIndex=2.html#addcomment">Reply</a>
                                        
                                        
                                    </div><div style="clear: both;"></div>
                                </div>
                                <div class="WikiCommentBubbleRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                            </div>
                            <div class="WikiCommentArrow"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div><div class="r6"></div><div class="r7"></div><div class="r8"></div><div class="r9"></div><div class="r10"></div></div>
                        </div>     
                    
                        <div class="WikiCommentArea">
                            <div class="WikiCommentBubble">
                                <div class="WikiCommentBubbleRoundTop"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                                <div class="WikiCommentContent">
                                    <div class="WikiCommentHeaderIcon"><a href="../../../members/nestor/default.aspx.html">
                                            <img src="../../../utility/anonymous.gif" alt="" style="border-width:0px;max-height:32px;max-width:32px;" />
                                        </a></div>
                                    
                                    <div class="WikiCommentHeader">
                                        By: 
                                        <a href="../../../members/nestor/default.aspx.html">nestor</a>
                                        Posted on 
                                        10-01-2010 18:58
                                        
                                    </div>
                                    <div style="clear: both;"></div>
                                    
                                    <div><p>Hi,</p>
<p>I agree with many of you regarding to do NOT recomend to override equals and hashcode based on the identifier. &nbsp;I think if you override it you could have two instance pointing to the same record in the database and the Identity Map gets broken. &nbsp;</p>
</div>

                                    <div style="float: right; font-size: 80%;">
                                        <a href="comments.aspx%3FPageIndex=2.html#addcomment">Reply</a>
                                        
                                        
                                    </div><div style="clear: both;"></div>
                                </div>
                                <div class="WikiCommentBubbleRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                            </div>
                            <div class="WikiCommentArrow"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div><div class="r6"></div><div class="r7"></div><div class="r8"></div><div class="r9"></div><div class="r10"></div></div>
                        </div>     
                    
                        <div class="WikiCommentArea">
                            <div class="WikiCommentBubble">
                                <div class="WikiCommentBubbleRoundTop"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                                <div class="WikiCommentContent">
                                    <div class="WikiCommentHeaderIcon"><a href="../../../members/patearl/default.aspx.html">
                                            <img src="../../../utility/anonymous.gif" alt="" style="border-width:0px;max-height:32px;max-width:32px;" />
                                        </a></div>
                                    
                                    <div class="WikiCommentHeader">
                                        By: 
                                        <a href="../../../members/patearl/default.aspx.html">patearl</a>
                                        Posted on 
                                        08-07-2011 3:49
                                        
                                    </div>
                                    <div style="clear: both;"></div>
                                    
                                    <div><p>The problem of having the objects coming from the database not being the same as the the transient objects that were just saved can be solved by using a new id generator that copies from a pre-determined GUID in the transient instance. &nbsp;For example, every object generates a unique GUID when it&#39;s created. &nbsp;This is stored in a separate field from the Id. &nbsp;The hash code always uses this unique guid for transient objects and the regular Id for persistent objects. &nbsp;When the object is saved, the GUID is copied into the Id field by a custom generator. &nbsp;I haven&#39;t actually tried this, but it seems doable.</p>
<p>[Edit: Oh... looks like people already wrote about approximately the same thing.]</p>
</div>

                                    <div style="float: right; font-size: 80%;">
                                        <a href="comments.aspx%3FPageIndex=2.html#addcomment">Reply</a>
                                        
                                        
                                    </div><div style="clear: both;"></div>
                                </div>
                                <div class="WikiCommentBubbleRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                            </div>
                            <div class="WikiCommentArrow"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div><div class="r6"></div><div class="r7"></div><div class="r8"></div><div class="r9"></div><div class="r10"></div></div>
                        </div>     
                    
                        <div class="WikiCommentArea">
                            <div class="WikiCommentBubble">
                                <div class="WikiCommentBubbleRoundTop"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                                <div class="WikiCommentContent">
                                    <div class="WikiCommentHeaderIcon"><a href="../../../members/mickyd/default.aspx.html">
                                            <img src="http://www.gravatar.com/avatar/753b54a60805b7cc2ec2902c000b502a.png" alt="" style="border-width:0px;max-height:32px;max-width:32px;" />
                                        </a></div>
                                    
                                    <div class="WikiCommentHeader">
                                        By: 
                                        <a href="../../../members/mickyd/default.aspx.html">MickyD</a>
                                        Posted on 
                                        10-03-2011 1:19
                                        
                                    </div>
                                    <div style="clear: both;"></div>
                                    
                                    <div><p>i&#39;m not sure your implementation of gethashcode() is correct. &nbsp;one it perhaps should not lock down to just the Id property; it ignores other properties in derived classes; and most importantly it seems to be ignoring compare as equal behaviour. &nbsp; </p>
<p>MSDN:</p>
<p>If two objects compare as equal, the GetHashCode method for each object must return the same value. However, if two objects do not compare as equal, the GetHashCode methods for the two object do not have to return different values.</p>
<p>The GetHashCode method for an object must consistently return the same hash code as long as there is no modification to the object state that determines the return value of the object&#39;s Equals method. Note that this is true only for the current execution of an application, and that a different hash code can be returned if the application is run again.</p>
<p>For the best performance, a hash function must generate a random distribution for all input.</p>
</div>

                                    <div style="float: right; font-size: 80%;">
                                        <a href="comments.aspx%3FPageIndex=2.html#addcomment">Reply</a>
                                        
                                        
                                    </div><div style="clear: both;"></div>
                                </div>
                                <div class="WikiCommentBubbleRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                            </div>
                            <div class="WikiCommentArrow"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div><div class="r6"></div><div class="r7"></div><div class="r8"></div><div class="r9"></div><div class="r10"></div></div>
                        </div>     
                    
                
                 
            </div>
        
        </div>
    </div>
</div>


</div></div>
			    <div style="clear: both;"></div>
			    
			    
            </div>
                
            <div id="CommonFooter">
                <div class="Common">
                    
                        
                	    
                        

                        
                                <a href="http://communityserver.com/" target="_blank"><img src="../../../utility/PoweredByCS_commercial.gif" alt="Powered by Community Server (Commercial Edition), by Telligent Systems " style="border-width:0px;" /></a>
		                    
                		
                    
                 </div>
            </div>
		
<script type="text/javascript">
// <![CDATA[
Telligent_Modal.Configure('/utility/loading.htm',['CommonModal'],['CommonModalTitle'],['CommonModalClose'],['CommonModalContent'],['CommonModalFooter'],['CommonModalResize'],['CommonModalMask'],100,false,true);
// ]]>
</script><script type="text/javascript">
<!--
function KeyDownHandlerctl00_ctl00_sr_sr_ctl00_ctl00_TitleBarSearchButton(event)
{
	if (event.keyCode == 13)
	{
		event.returnValue = false;
		event.cancel = true;
     __doPostBack('ctl00$ctl00$sr$sr$ctl00$ctl00$TitleBarSearchButton','')
   return false;
	}
}

//-->
</script>
<script type="text/javascript">
// <![CDATA[
window.ctl00_ctl00_rcr_rcr_ctl00_ctl02_ctl00_ctl01_ctl01=new WikiPageHierarchy('ctl00_ctl00_rcr_rcr_ctl00_ctl02_ctl00_ctl01_ctl01',new Function('mode','pageId','callback','WebForm_DoCallback(\'ctl00$ctl00$rcr$rcr$ctl00$ctl02$ctl00$ctl01$ctl01\',mode + \':\' + pageId,callback,\"\",null,false)'),'<img src="http://nhforge.org/wikis/patternsandpractices/identity-field-equality-and-hash-code/\&quot;/WebResource.axd?d=sNXLzaCqbYO_a-ZjCZB88HF4WT8YRbuRaD2xfyafsCiRqelSVt4GYH9QzNn_EvXM02V5zpjGwsymzmW30OIrbB4EUeqA1XW4oU6sME2qMEcOgSVpfz1_YK7UdKB8bVtbFiuWJt3UljrDk5OnRzQEWKDyXNGX0R6sJsultQeBjufuUDz-0&amp;t=634395149500000000\&quot;" alt=\"+\" style=\"border-width: 0;\" />','<img src="http://nhforge.org/wikis/patternsandpractices/identity-field-equality-and-hash-code/\&quot;/WebResource.axd?d=I7Z2L5Ca7ffItUeObf-LA3ykZ3Mbmr-vwfNJv2PfNk2O4alHWIJbJADyKhl0k71mJCpGTePjifKqZQx_Rs64LrGhlEU25qRjlCh8LoYwo2tck8EIbBdQKg5CISopk9hz_6ZbK_GNtBJljwOq57_FBvxYCTM1&amp;t=634395149500000000\&quot;" alt=\"-\" style=\"border-width: 0;\" />','<div>Loading...</div>');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_ctl00_rcr_rcr_ctl00_ctl03_ctl00_ctl01_ctl01=new WikiPageHierarchy('ctl00_ctl00_rcr_rcr_ctl00_ctl03_ctl00_ctl01_ctl01',new Function('mode','pageId','callback','WebForm_DoCallback(\'ctl00$ctl00$rcr$rcr$ctl00$ctl03$ctl00$ctl01$ctl01\',mode + \':\' + pageId,callback,\"\",null,false)'),'<img src="http://nhforge.org/wikis/patternsandpractices/identity-field-equality-and-hash-code/\&quot;/WebResource.axd?d=sNXLzaCqbYO_a-ZjCZB88HF4WT8YRbuRaD2xfyafsCiRqelSVt4GYH9QzNn_EvXM02V5zpjGwsymzmW30OIrbB4EUeqA1XW4oU6sME2qMEcOgSVpfz1_YK7UdKB8bVtbFiuWJt3UljrDk5OnRzQEWKDyXNGX0R6sJsultQeBjufuUDz-0&amp;t=634395149500000000\&quot;" alt=\"+\" style=\"border-width: 0;\" />','<img src="http://nhforge.org/wikis/patternsandpractices/identity-field-equality-and-hash-code/\&quot;/WebResource.axd?d=I7Z2L5Ca7ffItUeObf-LA3ykZ3Mbmr-vwfNJv2PfNk2O4alHWIJbJADyKhl0k71mJCpGTePjifKqZQx_Rs64LrGhlEU25qRjlCh8LoYwo2tck8EIbBdQKg5CISopk9hz_6ZbK_GNtBJljwOq57_FBvxYCTM1&amp;t=634395149500000000\&quot;" alt=\"-\" style=\"border-width: 0;\" />','<div>Loading...</div>');
// ]]>
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5443308-1");
pageTracker._trackPageview();
</script></form>
		
	</body>
</html>
